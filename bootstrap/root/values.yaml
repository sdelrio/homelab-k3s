gitops:
  repo: https://github.com/sdelrio/homelab-k3s
  revision: master
stacks:
  - name: bootstrap
    app_namespace: argocd
    proj_namespaces: ["argocd"]
    whitelist:
      - group: rbac.authorization.k8s.io
        kind: ClusterRole
      - group: rbac.authorization.k8s.io
        kind: ClusterRoleBinding
      - group: '*'
        kind: CustomResourceDefinition
#    sync: true
  - name: platform
    proj_namespaces:
      - external-secrets
      - vault-server
    whitelist:
      - group: rbac.authorization.k8s.io
        kind: ClusterRole
      - group: rbac.authorization.k8s.io
        kind: ClusterRoleBinding
      - group: '*'
        kind: CustomResourceDefinition
      - group: admissionregistration.k8s.io
        kind: ValidatingWebhookConfiguration
      - group: external-secrets.io
        kind: ClusterSecretStore
#    sync: true
  - name: system
    proj_namespaces:
      - cert-manager
      - external-dns
      - intel-gpu-plugin
      - kyverno
      - nf-discovery
      - reloader
      - vault-operator
      - cilium
      - metallb-system
      - nginx-external
      - nginx-internal
      - openebs-localpv
      - piraeus-operator
      - piraeus-storageclass
      - volume-snapshot-crds
#    sync: true
#  - name: apps
